<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"ligj1706.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":{"enable":true,"default":"light","sync_system":false,"toggle_button":{"enable":true,"position":"navigation","mobile_position":"navigation","light_icon":"🌞","dark_icon":"🌛"}},"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":-1,"unescape":true,"preload":true,"reload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="1. 认识 R和 RStudio1.1 R和 RStudio 简介">
<meta property="og:type" content="article">
<meta property="og:title" content="R 入门手册">
<meta property="og:url" content="https://ligj1706.github.io/2022/08/05/2022-08-08-R-learning/index.html">
<meta property="og:site_name" content="海边拾贝">
<meta property="og:description" content="1. 认识 R和 RStudio1.1 R和 RStudio 简介">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=ZDA5MzUzNTY4ZmQ0ZTA3YzU5YjQzMWVhNWJlZGRhMTRfUHBaZjhmQkZrdGdWTmlkQzRZcUdGTmh1UnhMVTVOS0dfVG9rZW46Ym94Y252YlF2UzhKZTRqSG1lNmxOQ3hPYVliXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA">
<meta property="og:image" content="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=NzY0MDA4Y2RlOWI4YWNlNDgwOWIzZjQ4MDg4YzU4YzhfdWVTWDdseThMakpleGRRV3VaMHNLdTJLNFpWZ0xGOUxfVG9rZW46Ym94Y25Pa05QQWJSdHZGMFhURklZM3RSd1FkXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA">
<meta property="og:image" content="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=MmM5Y2RhN2U2ZGNiMDA5NDBhMTA4ZjlhNDAwNTg0NjFfOUJVS0tSU0V4ZVlyRTFwQlRlRjBCRno0djllYmVqUnFfVG9rZW46Ym94Y253Sm1oa21ucVF6dzZxYzBvRDk3bmdjXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA">
<meta property="og:image" content="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=MDU3Y2ZmOGM4N2ViMWY0ZmE5OWY1NjE0NjIzZmM0YzZfNG1hRmRaZUVTVjVVd3p4UUNsVkZQekU3b2RIcDc1ZW9fVG9rZW46Ym94Y251S0FnUzk3cEpiTXY1UngyT0NLWTZjXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA">
<meta property="og:image" content="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=NWYzODFjNzc4OTUwOTZmMTczYmFiNzg3MjhhYjIzZThfYXhzYXFjRHBKZHpucFpFODNPRGpBaXdkTjVFWkRETmJfVG9rZW46Ym94Y25NR2tDd0trSVhjb1U0QUdCeXhhd0JkXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA">
<meta property="og:image" content="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=NjQ3ZjMxMTA1NTNkY2Q5MTBjMzI5ZWJiNGU3NmNlOWJfaWRybXNFeWh1M2g0bDRETmNiRXlPQ1duTXJtWHhXSURfVG9rZW46Ym94Y25hbko1enFwRWI3WllJSzE1alhqa0lmXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA">
<meta property="og:image" content="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=MmViNWExMTBjMzU5MGNiZjI5MDhjYTE3ZWZlYTM1ZmZfWFc1aHFjcml2V2l1amN1SzQ2V1N2cHhrUGVVQTNLY0hfVG9rZW46Ym94Y25rSlp4RkVNNGtKQ2xCRDVVYk5lMkNlXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA">
<meta property="og:image" content="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=NzAzYzljNjVkY2IyODBmZTdlNTI0N2Q1NTk2OTRjMTdfUVJFSU40dkM0RDNCTllaQ25QcHVTZEhIQ0NrWVZabWJfVG9rZW46Ym94Y25VcFlpOEhDaWN5ZmZsUGlvRllrN2RjXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA">
<meta property="og:image" content="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=NjdlMDQzYmJlMjJjNTYxMTNkNjYxYzFiY2Q2ZjA4NjRfQllQRjhSYW5CYlAwMlpGWjBYU0UwbGZTM00yTkFiZFZfVG9rZW46Ym94Y25ONU0wUzE0cWlIbXhsSzd3SktPSEloXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA">
<meta property="og:image" content="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=YzhkZTljNmYwZjc1NWM1ZmUxYjgyMDM5NGUyMjhiZTFfR0IyVWswQ2Fubm9lZEx2VzdsbDM1RDlsaEs0RjRTUEdfVG9rZW46Ym94Y24zQ3dFVVNubERzMTBxUU1LYkpUSmJoXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA">
<meta property="og:image" content="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=YTcyNzQ1YWFhNzEzYjJlODhjOWRiYTg5YWYwOTVkMzRfelRTbElDRlM2a2xMTWtWVXZ2VElqb3RTeHBhWDUzUXdfVG9rZW46Ym94Y25QSWJKS1ZDWlBJOEFOeHVIaG15MkJkXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA">
<meta property="article:published_time" content="2022-08-05T13:40:34.000Z">
<meta property="article:modified_time" content="2025-05-01T13:34:14.681Z">
<meta property="article:author" content="妙 生">
<meta property="article:tag" content="职场技能">
<meta property="article:tag" content="商业分析">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=ZDA5MzUzNTY4ZmQ0ZTA3YzU5YjQzMWVhNWJlZGRhMTRfUHBaZjhmQkZrdGdWTmlkQzRZcUdGTmh1UnhMVTVOS0dfVG9rZW46Ym94Y252YlF2UzhKZTRqSG1lNmxOQ3hPYVliXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA">


<link rel="canonical" href="https://ligj1706.github.io/2022/08/05/2022-08-08-R-learning/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://ligj1706.github.io/2022/08/05/2022-08-08-R-learning/","path":"2022/08/05/2022-08-08-R-learning/","title":"R 入门手册"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>R 入门手册 | 海边拾贝</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-W02636XT7F"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-W02636XT7F","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js" defer></script>

  <script src="/js/third-party/analytics/baidu-analytics.js" defer></script>
  <script async src="https://hm.baidu.com/hm.js?f7efda7fd17f9fe755832cf5d4d5233b"></script>







  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>







  




<script src="/js/mobile-menu.js"></script>

<script>
  // 备用方案：直接添加内联 JavaScript
  document.addEventListener('DOMContentLoaded', function() {
    // 创建暗色模式切换按钮的函数
    function createDarkModeToggle() {
      const toggle = document.createElement('button');
      toggle.className = 'darkmode-toggle';
      toggle.setAttribute('aria-label', '切换暗色模式');
      toggle.innerHTML = '🌞';
      return toggle;
    }

    // 为桌面端创建并添加暗色模式切换按钮
    const searchBtn = document.querySelector('.menu-item-search');
    const mainToggle = createDarkModeToggle();
    if (searchBtn && !searchBtn.querySelector('.darkmode-toggle')) {
      searchBtn.appendChild(mainToggle);
    }

    // 获取汉堡菜单按钮
    var toggleButton = document.querySelector('.site-nav-toggle');
    
    if (toggleButton) {
      // 创建一个简单的移动菜单
      var mobileMenu = document.createElement('div');
      mobileMenu.className = 'mobile-menu';
      mobileMenu.style.cssText = `
        display: none;
        position: fixed;
        top: 60px;
        left: 0;
        width: 100%;
        background: var(--content-bg-color);
        padding: 10px 0;
        z-index: 999;
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        transition: all 0.3s ease;
      `;
      
      // 复制主菜单项
      var menuItems = document.querySelectorAll('.menu-item');
      menuItems.forEach(function(item) {
        if (!item.classList.contains('menu-item-search')) {
          var clone = item.cloneNode(true);
          clone.style.cssText = `
            display: block;
            margin: 0;
            padding: 0;
          `;
          var link = clone.querySelector('a');
          if (link) {
            link.style.cssText = `
              display: flex;
              align-items: center;
              padding: 10px 20px;
              color: var(--text-color);
              text-decoration: none;
            `;
            var icon = link.querySelector('i');
            if (icon) {
              icon.style.cssText = `
                margin-right: 6px;
                width: 16px;
                text-align: center;
              `;
            }
          }
          mobileMenu.appendChild(clone);
        }
      });

      // 创建暗色模式切换按钮容器
      const mobileSearchItem = document.createElement('li');
      mobileSearchItem.className = 'menu-item menu-item-darkmode animated fadeInDown';
      mobileSearchItem.style.cssText = `
        display: block;
        margin: 0;
        padding: 0;
      `;
      
      // 创建链接样式的包装器
      const linkWrapper = document.createElement('a');
      linkWrapper.style.cssText = `
        display: flex;
        align-items: center;
        padding: 10px 20px;
        color: var(--text-color);
        text-decoration: none;
      `;
      
      // 创建移动端暗色模式切换按钮
      const mobileToggle = createDarkModeToggle();
      mobileToggle.style.cssText = `
        border: none;
        background: none;
        padding: 0;
        margin: 0;
        cursor: pointer;
        color: var(--text-color);
        font-size: 1rem;
      `;
      
      linkWrapper.appendChild(mobileToggle);
      mobileSearchItem.appendChild(linkWrapper);
      mobileMenu.appendChild(mobileSearchItem);
      
      // 添加到页面
      document.body.appendChild(mobileMenu);
      
      // 添加点击事件
      toggleButton.addEventListener('click', function(e) {
        e.preventDefault();
        mobileMenu.style.display = mobileMenu.style.display === 'none' ? 'block' : 'none';
      });
      
      // 点击页面其他地方关闭菜单
      document.addEventListener('click', function(e) {
        if (mobileMenu.style.display === 'block' && !mobileMenu.contains(e.target) && !toggleButton.contains(e.target)) {
          mobileMenu.style.display = 'none';
        }
      });
      
      // 监听主题变化
      document.addEventListener('themeChange', function(e) {
        const isDark = e.detail.isDark;
        mobileMenu.style.background = isDark ? '#242424' : '#fff';
        mobileMenu.style.boxShadow = isDark 
          ? '0 2px 8px rgba(255,255,255,0.1)'
          : '0 2px 8px rgba(0,0,0,0.15)';
      });

      // 切换主题函数
      function toggleTheme() {
        document.documentElement.classList.toggle('dark-mode');
        const isDark = document.documentElement.classList.contains('dark-mode');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
        const icon = isDark ? '🌛' : '🌞';
        mainToggle.innerHTML = icon;
        mobileToggle.innerHTML = icon;
        
        // 触发自定义事件
        document.dispatchEvent(new CustomEvent('themeChange', { detail: { isDark } }));
      }

      // 监听按钮点击
      mainToggle.addEventListener('click', toggleTheme);
      mobileToggle.addEventListener('click', toggleTheme);

      // 检查系统颜色方案
      const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
      
      // 获取存储的主题设置
      const savedTheme = localStorage.getItem('theme');
      
      // 根据存储的设置或系统偏好设置初始主题
      if (savedTheme === 'dark' || (!savedTheme && prefersDarkScheme.matches)) {
        document.documentElement.classList.add('dark-mode');
        mainToggle.innerHTML = '🌛';
        mobileToggle.innerHTML = '🌛';
      }

      // 监听系统主题变化
      prefersDarkScheme.addListener((e) => {
        if (!localStorage.getItem('theme')) {
          const isDark = e.matches;
          if (isDark) {
            document.documentElement.classList.add('dark-mode');
            mainToggle.innerHTML = '🌛';
            mobileToggle.innerHTML = '🌛';
          } else {
            document.documentElement.classList.remove('dark-mode');
            mainToggle.innerHTML = '🌞';
            mobileToggle.innerHTML = '🌞';
          }
        }
      });
    }
  });
</script>

<!-- 暗色模式切换按钮样式 -->
<style>
.darkmode-toggle {
  border: none;
  background: none;
  padding: 0;
  margin: 0;
  cursor: pointer;
  color: var(--text-color);
  font-size: 1rem;
}

.menu-item-search .darkmode-toggle {
  margin-left: 15px;
  font-size: 1.1rem;
}

.mobile-menu .menu-item {
  display: block;
  margin: 0;
  padding: 0;
}

.mobile-menu .menu-item a,
.mobile-menu .menu-item span {
  display: flex;
  align-items: center;
  color: var(--text-color);
  text-decoration: none;
}

.mobile-menu .menu-item i {
  margin-right: 6px;
  width: 16px;
  text-align: center;
}

@media (max-width: 767px) {
  .mobile-menu {
    background: var(--content-bg-color);
  }
  
  .darkmode-toggle {
    font-size: 1rem;
  }
}
</style> 
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="海边拾贝" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">海边拾贝</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>
<!-- 这里不需要额外的暗色模式切换按钮，因为我们已经在head.njk中添加了 --> 
</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E8%AE%A4%E8%AF%86-R%E5%92%8C-RStudio"><span class="nav-number">1.</span> <span class="nav-text">1. 认识 R和 RStudio</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-R%E5%92%8C-RStudio-%E7%AE%80%E4%BB%8B"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 R和 RStudio 简介</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E8%AE%A4%E8%AF%86-R%E5%92%8C-RStudio-1"><span class="nav-number">2.</span> <span class="nav-text">1. 认识 R和 RStudio</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-R%E5%92%8C-RStudio-%E7%AE%80%E4%BB%8B-1"><span class="nav-number">2.1.</span> <span class="nav-text">1.1 R和 RStudio 简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-RStudio-%E7%95%8C%E9%9D%A2%E4%BB%8B%E7%BB%8D"><span class="nav-number">2.2.</span> <span class="nav-text">1.2 RStudio 界面介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E4%BB%8B%E7%BB%8D"><span class="nav-number">2.3.</span> <span class="nav-text">1.3 基本操作介绍</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%90%91%E9%87%8F%EF%BC%88vector%EF%BC%89"><span class="nav-number">3.</span> <span class="nav-text">2. 向量（vector）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E5%90%91%E9%87%8F%E4%BD%BF%E7%94%A8"><span class="nav-number">3.1.</span> <span class="nav-text">2.1 向量使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E4%BB%8E%E5%88%97%E8%A1%A8%E4%B8%AD%E6%8F%90%E5%8F%96%E9%9C%80%E8%A6%81%E7%9A%84%E5%85%83%E7%B4%A0"><span class="nav-number">3.2.</span> <span class="nav-text">2.2 从列表中提取需要的元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E7%94%9F%E6%88%90%E5%99%A8"><span class="nav-number">3.3.</span> <span class="nav-text">2.3 生成器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-1-%E5%85%83%E7%B4%A0%E9%87%8D%E5%A4%8D"><span class="nav-number">3.3.1.</span> <span class="nav-text">2.3.1 元素重复</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-2-%E7%AD%89%E5%B7%AE%E6%95%B0%E5%88%97"><span class="nav-number">3.3.2.</span> <span class="nav-text">2.3.2 等差数列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-3-%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="nav-number">3.3.3.</span> <span class="nav-text">2.3.3 随机数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-4-%E7%AE%80%E5%8D%95%E9%9A%8F%E6%9C%BA%E6%8A%BD%E6%A0%B7"><span class="nav-number">3.3.4.</span> <span class="nav-text">2.3.4 简单随机抽样</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-%E5%90%91%E9%87%8F%E7%9A%84%E6%8E%92%E5%BA%8F"><span class="nav-number">3.4.</span> <span class="nav-text">2.4 向量的排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-%E5%90%91%E9%87%8F%E7%9A%84%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97"><span class="nav-number">3.5.</span> <span class="nav-text">2.5 向量的集合运算</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E6%95%B0%E6%8D%AE%E5%92%8C%E5%88%97%E8%A1%A8"><span class="nav-number">4.</span> <span class="nav-text">3. 数据和列表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8F%8A%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97"><span class="nav-number">4.1.</span> <span class="nav-text">3.1 数据类型及基本运算</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">4.1.1.</span> <span class="nav-text">3.1.1 数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-2-%E6%95%B0%E6%8D%AE%E8%BF%90%E7%AE%97"><span class="nav-number">4.1.2.</span> <span class="nav-text">3.1.2 数据运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-3-%E5%B8%B8%E8%A7%81%E7%9A%84%E6%95%B0%E6%8D%AE%E8%BF%90%E7%AE%97"><span class="nav-number">4.1.3.</span> <span class="nav-text">3.1.3 常见的数据运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-4-R-%E4%B8%AD%E8%87%AA%E5%B8%A6%E7%9A%84%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0"><span class="nav-number">4.1.4.</span> <span class="nav-text">3.1.4 R 中自带的常见函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E5%88%97%E8%A1%A8"><span class="nav-number">4.2.</span> <span class="nav-text">3.2 列表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-1-%E5%88%97%E8%A1%A8%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="nav-number">4.2.1.</span> <span class="nav-text">3.2.1 列表基本操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-2-%E5%90%88%E5%B9%B6%E4%B8%8E%E6%8B%86%E5%BC%80"><span class="nav-number">4.2.2.</span> <span class="nav-text">3.2.2 合并与拆开</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-%E7%9F%A9%E9%98%B5-matrix-%E5%92%8C%E6%95%B0%E7%BB%84-array"><span class="nav-number">4.3.</span> <span class="nav-text">3.3 矩阵(matrix)和数组(array)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-%E5%BE%AA%E7%8E%AF"><span class="nav-number">4.4.</span> <span class="nav-text">3.4 循环</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E5%87%BD%E6%95%B0"><span class="nav-number">5.</span> <span class="nav-text">4. 函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E5%87%BD%E6%95%B0%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="nav-number">5.1.</span> <span class="nav-text">4.1 函数基本操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-tibble"><span class="nav-number">6.</span> <span class="nav-text">5. tibble</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-%E5%88%9B%E5%BB%BA"><span class="nav-number">6.1.</span> <span class="nav-text">5.1 创建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-1-%E5%88%9B%E5%BB%BA"><span class="nav-number">6.1.1.</span> <span class="nav-text">5.1.1 创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-2-%E6%96%B0%E5%A2%9E"><span class="nav-number">6.1.2.</span> <span class="nav-text">5.1.2 新增</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-%E6%8A%93%E5%8F%96%E8%A1%8C%E5%88%97"><span class="nav-number">6.2.</span> <span class="nav-text">5.2 抓取行列</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-1-%E6%8A%93%E5%8F%96%E5%88%97"><span class="nav-number">6.2.1.</span> <span class="nav-text">5.2.1 抓取列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-2-%E6%8A%93%E5%8F%96%E8%A1%8C"><span class="nav-number">6.2.2.</span> <span class="nav-text">5.2.2 抓取行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-3-%E6%8E%92%E5%BA%8F"><span class="nav-number">6.2.3.</span> <span class="nav-text">5.2.3 排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-4-%E6%B1%87%E6%80%BB%E7%BB%9F%E8%AE%A1"><span class="nav-number">6.2.4.</span> <span class="nav-text">5.2.4 汇总统计</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-5-%E5%88%86%E7%BB%84"><span class="nav-number">6.2.5.</span> <span class="nav-text">5.2.5 分组</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-R-%E5%8C%85"><span class="nav-number">7.</span> <span class="nav-text">6. R 包</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD"><span class="nav-number">7.1.</span> <span class="nav-text">6.1 包的安装和卸载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-%E5%8C%85%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">7.2.</span> <span class="nav-text">6.2 包的使用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%85%A5%E5%92%8C%E6%95%B4%E7%90%86"><span class="nav-number">8.</span> <span class="nav-text">7. 数据导入和整理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%85%A5"><span class="nav-number">8.1.</span> <span class="nav-text">7.1 数据导入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-%E6%95%B0%E6%8D%AE%E6%B8%85%E7%90%86"><span class="nav-number">8.2.</span> <span class="nav-text">7.2 数据清理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E5%A4%B1%E5%80%BC%EF%BC%9AR%E4%B8%AD%E6%9C%89NA%E8%A1%A8%E7%A4%BA%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8is-na-%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E7%BC%BA%E5%A4%B1%E5%80%BC%E3%80%82%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95"><span class="nav-number">9.</span> <span class="nav-text">缺失值：R中有NA表示，可以使用is.na()判断是否存在缺失值。处理方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E7%9B%B8%E5%85%B3%E5%8C%85"><span class="nav-number">9.1.</span> <span class="nav-text">7.3 数据挖掘相关包</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90"><span class="nav-number">10.</span> <span class="nav-text">8. 回归分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-%E6%8F%8F%E8%BF%B0%E6%80%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90"><span class="nav-number">10.1.</span> <span class="nav-text">8.1 描述性数据分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-%E4%B8%80%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92"><span class="nav-number">10.2.</span> <span class="nav-text">8.2 一元线性回归</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-3-%E5%A4%9A%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92"><span class="nav-number">10.3.</span> <span class="nav-text">8.3 多元线性回归</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-4-R%E8%AF%AD%E8%A8%80%E5%88%86%E7%B1%BB%E5%8F%8A%E9%A2%84%E6%B5%8B%E7%AE%97%E6%B3%95%E5%87%BD%E6%95%B0"><span class="nav-number">10.4.</span> <span class="nav-text">8.4 R语言分类及预测算法函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E6%8A%BD%E6%A0%B7"><span class="nav-number">11.</span> <span class="nav-text">9. 抽样</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E5%81%87%E8%AE%BE%E6%A3%80%E9%AA%8C%E3%80%81%E7%BD%AE%E4%BF%A1%E5%8C%BA%E9%97%B4"><span class="nav-number">12.</span> <span class="nav-text">10. 假设检验、置信区间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="nav-number">13.</span> <span class="nav-text">11. 数据可视化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#11-1-ggplot%E4%BB%8B%E7%BB%8D"><span class="nav-number">13.1.</span> <span class="nav-text">11.1 ggplot介绍</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%A5%BF%E9%9B%85%E5%9B%BE%E6%88%BF%E4%BB%B7%E9%A2%84%E6%B5%8B"><span class="nav-number">14.</span> <span class="nav-text">12. 实战案例：西雅图房价预测</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%84%9F%E8%B0%A2"><span class="nav-number">15.</span> <span class="nav-text">感谢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ChangeLog"><span class="nav-number">16.</span> <span class="nav-text">ChangeLog</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="妙 生"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">妙 生</p>
  <div class="site-description" itemprop="description">让生活更美丽一点</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">197</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ligj1706.github.io/2022/08/05/2022-08-08-R-learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="妙 生">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="海边拾贝">
      <meta itemprop="description" content="让生活更美丽一点">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="R 入门手册 | 海边拾贝">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          R 入门手册
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-08-05 21:40:34" itemprop="dateCreated datePublished" datetime="2022-08-05T21:40:34+08:00">2022-08-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="1-认识-R和-RStudio"><a href="#1-认识-R和-RStudio" class="headerlink" title="1. 认识 R和 RStudio"></a>1. 认识 R和 RStudio</h2><h3 id="1-1-R和-RStudio-简介"><a href="#1-1-R和-RStudio-简介" class="headerlink" title="1.1 R和 RStudio 简介"></a>1.1 R和 RStudio 简介</h3><span id="more"></span>



<h2 id="1-认识-R和-RStudio-1"><a href="#1-认识-R和-RStudio-1" class="headerlink" title="1. 认识 R和 RStudio"></a>1. 认识 R和 RStudio</h2><h3 id="1-1-R和-RStudio-简介-1"><a href="#1-1-R和-RStudio-简介-1" class="headerlink" title="1.1 R和 RStudio 简介"></a>1.1 R和 RStudio 简介</h3><p>R是使用广泛的统计计算和绘图分析软件，基于S语言编写，20世纪90年代初，由Ross Ihaka 和 Robert Gentleman 共同编写，2000年发行1.0.0版本。</p>
<p>RStudio是R语言的集成开发环境(IDE)，RStudio之于R，相当于Pycharm之于python。RStudio是开源项目。</p>
<p><strong>为什么要使用R :</strong></p>
<ul>
<li><p>强大的绘图功能，能轻松绘制你想要的任何图像</p>
</li>
<li><p>免费，开源</p>
</li>
<li><p>强大的技术社区支持</p>
</li>
</ul>
<p>R Markdown用来从 R 中创建文档和网页，Shiny 则是使用 R 创建交互式应用程序。</p>
<p><a target="_blank" rel="noopener" href="http://adv-r.had.co.nz/Style.html">Style guide · Advanced R.</a></p>
<h3 id="1-2-RStudio-界面介绍"><a href="#1-2-RStudio-界面介绍" class="headerlink" title="1.2 RStudio 界面介绍"></a>1.2 RStudio 界面介绍</h3><p>左上：代码编辑栏。用于编辑代码，点击 run 即可运行。</p>
<p>左下：命令控制台，代码运行后，实时显示结果，如果出错，会进行报错。</p>
<p>右上：显示自定义的对象。</p>
<p>右下：查看文件、显示图像、获取包、获取帮助。</p>
<p>四个界面的大小可以自由拖动。</p>
<p><img src="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=ZDA5MzUzNTY4ZmQ0ZTA3YzU5YjQzMWVhNWJlZGRhMTRfUHBaZjhmQkZrdGdWTmlkQzRZcUdGTmh1UnhMVTVOS0dfVG9rZW46Ym94Y252YlF2UzhKZTRqSG1lNmxOQ3hPYVliXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA" alt="img"></p>
<p>R具有庞大的生态，你在学习和使用R中遇到的问题，都可以通过help获取帮助。你可以点击上方的R help，跳转到右下角搜索想要的答案。</p>
<p><img src="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=NzY0MDA4Y2RlOWI4YWNlNDgwOWIzZjQ4MDg4YzU4YzhfdWVTWDdseThMakpleGRRV3VaMHNLdTJLNFpWZ0xGOUxfVG9rZW46Ym94Y25Pa05QQWJSdHZGMFhURklZM3RSd1FkXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA" alt="img"></p>
<h3 id="1-3-基本操作介绍"><a href="#1-3-基本操作介绍" class="headerlink" title="1.3 基本操作介绍"></a>1.3 基本操作介绍</h3><p><strong>赋值</strong></p>
<p>R 有一个最基本的概念——赋值，即把数据、表格等，赋予给一个新的变量，在R中赋值符号为 <code>&lt;-</code>。比如：</p>
<pre><code>1  
2  
3  
4  
</code></pre>
<p>| </p>
<pre><code>x &lt;- 2+3*6  
y &lt;- x  
x = 56  
y  
  
</code></pre>
<p>—|—  </p>
<p>输出结果为：</p>
<pre><code>1  
</code></pre>
<p>| </p>
<pre><code>[1] 20  
  
</code></pre>
<p>—|—  </p>
<p><strong>创建和保存文件</strong></p>
<p>@todo</p>
<p><strong>代码执行</strong></p>
<p>使用<code>Ctrl</code>+<code>Enter</code> (<code>command</code>+<code>return</code>)执行本句代码，<code>Ctrl</code>+<code>Shift</code>+<code>Enter</code> (<code>command</code>+<code>shift</code>+<code>return</code>)执行文件中所有代码。</p>
<p><strong>分隔符</strong></p>
<p>当代码很长时，可以通过<code>Ctrl</code> (<code>command</code>) + <code>shift</code> + <code>R</code>插入像上面<code>foo</code>, <code>bar</code>风格符，增加代码可读性。</p>
<h2 id="2-向量（vector）"><a href="#2-向量（vector）" class="headerlink" title="2. 向量（vector）"></a>2. 向量（vector）</h2><h3 id="2-1-向量使用"><a href="#2-1-向量使用" class="headerlink" title="2.1 向量使用"></a>2.1 向量使用</h3><p>对变量赋值，是R中的基本操作。赋值用符号<code>&lt;-</code>,多个元素赋值可以使用<code>c()</code> (concatenate)函数.</p>
<pre><code>1  
2  
</code></pre>
<p>| </p>
<pre><code>x &lt;- 5  
num &lt;- c(1, 4, 6, 19)  
  
</code></pre>
<p>—|—  </p>
<p>输出结果：</p>
<pre><code>1  
2  
</code></pre>
<p>| </p>
<pre><code>&gt; nums  
[1]  1  4  6 19  
  
</code></pre>
<p>—|—  </p>
<p>查看向量长度：</p>
<pre><code>1  
2  
</code></pre>
<p>| </p>
<pre><code>num &lt;- c(1, 4, 6, 19)  
length(num)  
  
</code></pre>
<p>—|—  </p>
<p>输出结果：</p>
<pre><code>1  
</code></pre>
<p>| </p>
<pre><code>[1] 4  
  
</code></pre>
<p>—|—  </p>
<p>多个向量合并：</p>
<pre><code>1  
2  
3  
4  
5  
6  
</code></pre>
<p>| </p>
<pre><code>fruit_1 &lt;- c(&quot;Apple&quot;,&quot;Banana&quot;,&quot;Carambola&#39;)  
fruit_2 &lt;- c(&quot;Durian&quot;,&quot;Haw&quot;,&quot;Lemon&quot;)   
  
fruits &lt;- c(fruit_1, fruit_2, c(&quot;Papaya&quot;,&quot;Persimmon&quot;,&quot;Strawberry&quot;))  
  
fruits  
  
</code></pre>
<p>—|—  </p>
<p>输出结果为：</p>
<pre><code>1  
2  
3  
</code></pre>
<p>| </p>
<pre><code>&gt; fruits  
[1] &quot;Apple&quot;      &quot;Banana&quot;     &quot;Carambola&quot;  &quot;Durian&quot;     &quot;Haw&quot;         
[6] &quot;Lemon&quot;      &quot;Papaya&quot;     &quot;Persimmon&quot;  &quot;Strawberry&quot;  
  
</code></pre>
<p>—|—  </p>
<h3 id="2-2-从列表中提取需要的元素"><a href="#2-2-从列表中提取需要的元素" class="headerlink" title="2.2 从列表中提取需要的元素"></a>2.2 从列表中提取需要的元素</h3><p>和python一样，R也可以提取需要的元素，但和python不一样的是，R从第一个开始：</p>
<p>看下面一个列表</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
</code></pre>
<p>| </p>
<pre><code>fruits &lt;- c(&quot;Apple&quot;, &quot;Banana&quot;, &quot;Carambola&quot;, &quot;Durian&quot;, &quot;Haw&quot;, &quot;Lemon&quot; , &quot;Papaya&quot; ,  &quot;Persimmon&quot;, &quot;Strawberry&quot;)  
  
fruits[3] # 提取第三个  
  
fruits[c(2,5,7)] # 提取第2、5、7个  
  
fruits[-c(2,5,7)] # 提取除了第2、5、7个的元素  
  
fruits[c(2,5,7)] &lt;- c(&quot;ON&quot;, &quot;UP&quot;, &quot;DOWN&quot;) # 第2，5，7个重新赋值  
  
fruits[c(2:6)] # 提取第2，3，4，5，6个，包含第2个  
  
fruits[2:6] # 提取第2，3，4，5，6个，包含第2个  
  
fruits  
  
</code></pre>
<p>—|—  </p>
<p>运行结果分别是（注：上面代码必须单独运行，才能得到下面的结果，否则只会显示最后一个）</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
16  
17  
18  
19  
</code></pre>
<p>| </p>
<pre><code>&gt; fruits[3] # 提取第三个  
[1] &quot;Carambola&quot;  
  
&gt; fruits[c(2,5,7)] # 提取第2、5、7个  
[1] &quot;Banana&quot; &quot;Haw&quot;    &quot;Papaya&quot;  
  
&gt; fruits[-c(2,5,7)] # 提取除了第2、5、7个的元素  
[1] &quot;Apple&quot;      &quot;Carambola&quot;  &quot;Durian&quot;     &quot;Lemon&quot;      &quot;Persimmon&quot;   
[6] &quot;Strawberry&quot;  
  
fruits[c(2,5,7)] &lt;- c(&quot;ON&quot;, &quot;UP&quot;, &quot;DOWN&quot;) # 第2，5，7个重新赋值  
[1] &quot;Apple&quot;      &quot;ON&quot;         &quot;Carambola&quot;  &quot;Durian&quot;     &quot;UP&quot;          
[6] &quot;Lemon&quot;      &quot;DOWN&quot;       &quot;Persimmon&quot;  &quot;Strawberry&quot;  
  
&gt; fruits[c(2:6)] # 提取第2，3，4，5，6个，包含第2个  
[1] &quot;Banana&quot;    &quot;Carambola&quot; &quot;Durian&quot;    &quot;Haw&quot;       &quot;Lemon&quot;      
  
&gt; fruits[2:6] # 提取第2，3，4，5，6个  
[1] &quot;Banana&quot;    &quot;Carambola&quot; &quot;Durian&quot;    &quot;Haw&quot;       &quot;Lemon&quot;   
  
</code></pre>
<p>—|—  </p>
<h3 id="2-3-生成器"><a href="#2-3-生成器" class="headerlink" title="2.3 生成器"></a>2.3 生成器</h3><h4 id="2-3-1-元素重复"><a href="#2-3-1-元素重复" class="headerlink" title="2.3.1 元素重复"></a>2.3.1 元素重复</h4><p>重复某个元素，基本格式如下：</p>
<p>（以下代码，上面是输入，下方为输出结果)</p>
<pre><code>1  
2  
</code></pre>
<p>| </p>
<pre><code>&gt; rep(2, 3) # 把2重复3次；或rep(2, times = 3)  
 [1] 2 2 2  
  
</code></pre>
<p>—|—  </p>
<p>在此基础上，可以延展很多变体：</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
</code></pre>
<p>| </p>
<pre><code>&gt; rep(c(1,2,3,4), 4) # 把1，2，3，4重复4次  
 [1] 1 2 3 4 1 2 3 4 1 2 3 4 1 2 3 4  
&gt; rep(c(1:10), 2) # 1-10重复10次  
 [1]  1  2  3  4  5  6  7  8  9 10  1  2  3  4  5  6  7  8  9 10  
&gt; rep(c(1, 2, 3), each = 3) # 把1, 2，3各重复4遍  
 [1] 1 1 1 2 2 2 3 3 3  
&gt; rep(c(1, 2, 3), c(3, 2, 0)) # 把1, 2, 3分别重复3, 2, 0遍  
 [1] 1 1 1 2 2  
rep(8:15, rep(1:5, rep(1:2, 2:3))) # 把8（含）-15（含）分别重复1、2、3、3、4、4、5、5遍。注意每个元素与重复次数要对应，如8-15有8个元素，rep(1:5, rep(1:2, 2:3))也必须是8个原色  
 [1]  8  9  9 10 10 10 11 11 11 12 12 12 12 13 13 13 13 14 14 14 14 14 15 15 15  
[26] 15 15  
  
</code></pre>
<p>—|—  </p>
<h4 id="2-3-2-等差数列"><a href="#2-3-2-等差数列" class="headerlink" title="2.3.2 等差数列"></a>2.3.2 等差数列</h4><pre><code>1  
2  
3  
4  
</code></pre>
<p>| </p>
<pre><code>&gt; seq(0, 15, 2) # 其实是`seq(from = 0, to = 15, by = 2)`的简写，表示0-15中，等差序列为2  
 [1]  0  2  4  6  8 10 12 14  
&gt; seq(0, 20, length.out = 11) # 其实是`seq(from = 0, to = 20, length.out = 10`的简写。表示0-20中，按等差分成10个元素  
 [1]  0  2  4  6  8 10 12 14 16 18 20  
  
</code></pre>
<p>—|—  </p>
<h4 id="2-3-3-随机数"><a href="#2-3-3-随机数" class="headerlink" title="2.3.3 随机数"></a>2.3.3 随机数</h4><p><code>常见的随机数用runif(n, min, max)</code>，n表示生成的随机数数量，min是最小值，max是最大值。默认min&#x3D;0，max&#x3D;1。</p>
<pre><code>1  
2  
3  
</code></pre>
<p>| </p>
<pre><code>nums_1 &lt;- runif(100000,1,100) # 随机生成10万个，1-100之间的随机数  
  
hist(nums_1) # 画直方图  
  
</code></pre>
<p>—|—  </p>
<p><img src="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=MmM5Y2RhN2U2ZGNiMDA5NDBhMTA4ZjlhNDAwNTg0NjFfOUJVS0tSU0V4ZVlyRTFwQlRlRjBCRno0djllYmVqUnFfVG9rZW46Ym94Y253Sm1oa21ucVF6dzZxYzBvRDk3bmdjXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA" alt="img"></p>
<p><strong>正态分布的随机数：</strong></p>
<p><code>使用rnorm(n, mean, sd)</code>, 三个参数分别代表数量，平均值，标准差。默认mean为0，sd为1。</p>
<pre><code>1  
2  
</code></pre>
<p>| </p>
<pre><code>nums_1 &lt;- rnorm(100000, 250, 20) # 生成10万个随机数，按照平均值为250，标准差为20，进行正态分布  
hist(nums_1) # 画直方图  
  
</code></pre>
<p>—|—  </p>
<p><img src="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=MDU3Y2ZmOGM4N2ViMWY0ZmE5OWY1NjE0NjIzZmM0YzZfNG1hRmRaZUVTVjVVd3p4UUNsVkZQekU3b2RIcDc1ZW9fVG9rZW46Ym94Y251S0FnUzk3cEpiTXY1UngyT0NLWTZjXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA" alt="img"></p>
<h4 id="2-3-4-简单随机抽样"><a href="#2-3-4-简单随机抽样" class="headerlink" title="2.3.4 简单随机抽样"></a>2.3.4 简单随机抽样</h4><p>代码格式如下：</p>
<pre><code>1  
</code></pre>
<p>| </p>
<pre><code>sample(balls, 20, replace = TRUE) # ball表示总体，20表示抽取的数量， replace = TRUE表示抽取后放回，FALSE表示抽取后不放回(可不写）  
  
</code></pre>
<p>—|—  </p>
<p>从10个球中随机抽取8个，每次抽取放回：</p>
<pre><code>1  
2  
3  
4  
</code></pre>
<p>| </p>
<pre><code>&gt; balls &lt;- letters[1:10]  
&gt; sample(balls, 8, replace = TRUE)  
  
[1] &quot;i&quot; &quot;g&quot; &quot;d&quot; &quot;c&quot; &quot;g&quot; &quot;i&quot; &quot;b&quot; &quot;c&quot;  
  
</code></pre>
<p>—|—  </p>
<h3 id="2-4-向量的排序"><a href="#2-4-向量的排序" class="headerlink" title="2.4 向量的排序"></a>2.4 向量的排序</h3><pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
16  
17  
18  
19  
</code></pre>
<p>| </p>
<pre><code>&gt; x &lt;- c(10, 45, 2, 8, 12)  
  
&gt; sort(x) # 从小到大排序  
[1]  2  8 10 12 45  
  
&gt; x[order(x)] # 从小到大排序  
[1]  2  8 10 12 45  
  
&gt; order(x) # 返回每个元素从小到大对应的排序，如10是第三小的元素，返回值为3  
[1] 3 4 1 5 2  
  
&gt; rev(sort(x)) # 从大到小排序  
[1] 45 12 10  8  2  
  
&gt; rank(x) # 返回值为每个数值对应的排名  
[1] 3 5 1 2 4  
  
&gt; rev(x) # 表示向量翻转  
[1] 12  8  2 45 10  
  
</code></pre>
<p>—|—  </p>
<h3 id="2-5-向量的集合运算"><a href="#2-5-向量的集合运算" class="headerlink" title="2.5 向量的集合运算"></a>2.5 向量的集合运算</h3><p>交集用intersect(x, y)，并集用union(x, y)，补集用setdiff(x, y)。作为集合是否相等，用setequal(x, y)，确定元素是否是集合的某个元素用is.element(x, y)，等价于x %in% y.</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
16  
17  
18  
19  
</code></pre>
<p>| </p>
<pre><code>&gt; x &lt;- c(1:15)  
&gt; y &lt;- c(10:25, 5)  
  
&gt; intersect(x,y) # 求交集  
[1]  5 10 11 12 13 14 15  
  
&gt; union(x, y) #求并集  
 [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20  
[21] 21 22 23 24 25  
  
&gt; setdiff(x, y) #求补集，即不在集合y中的元素  
[1] 1 2 3 4 6 7 8 9  
  
&gt; setequal(x, y) # 是否相等  
[1] FALSE  
  
&gt; is.element(x, y) #确定x是否是y中的元素  
 [1] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE  
[11]  TRUE  TRUE  TRUE  TRUE  TRUE  
  
</code></pre>
<p>—|—  </p>
<h2 id="3-数据和列表"><a href="#3-数据和列表" class="headerlink" title="3. 数据和列表"></a>3. 数据和列表</h2><h3 id="3-1-数据类型及基本运算"><a href="#3-1-数据类型及基本运算" class="headerlink" title="3.1 数据类型及基本运算"></a>3.1 数据类型及基本运算</h3><h4 id="3-1-1-数据类型"><a href="#3-1-1-数据类型" class="headerlink" title="3.1.1 数据类型"></a>3.1.1 数据类型</h4><p><strong>常见数据类型如下</strong></p>
<table>
<thead>
<tr>
<th>类型</th>
<th>含义与说明</th>
<th>例子</th>
</tr>
</thead>
<tbody><tr>
<td>numeric</td>
<td>浮点数向量</td>
<td>2, 3.14, sqrt(5)</td>
</tr>
<tr>
<td>integer</td>
<td>整数向量</td>
<td>1L，3L，5L</td>
</tr>
<tr>
<td>character</td>
<td>字符向量；需被引号包围</td>
<td>“@”, “34”, “文本”</td>
</tr>
<tr>
<td>logical</td>
<td>逻辑向量</td>
<td>TRUE, FALSE, NA</td>
</tr>
<tr>
<td>complex</td>
<td>复数向量</td>
<td>3+5i, i, 4+i</td>
</tr>
</tbody></table>
<p>数据基本操作如下：</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
</code></pre>
<p>| </p>
<pre><code>&gt; class(3) # 查询数据类型  
 [1] &quot;numeric&quot;  
  
&gt; is.numeric(6) # 判断属于哪一种数据类型，TRUE则为正确  
[1] TRUE  
  
&gt; as.numeric(6) # 强制转换为另一种数据类型  
[1] 6  
  
</code></pre>
<p>—|—  </p>
<h4 id="3-1-2-数据运算"><a href="#3-1-2-数据运算" class="headerlink" title="3.1.2 数据运算"></a>3.1.2 数据运算</h4><table>
<thead>
<tr>
<th>符号</th>
<th>描述</th>
</tr>
</thead>
</table>
<ul>
<li>| 加</li>
</ul>
<ul>
<li>| 减</li>
</ul>
<ul>
<li>| 乘<br>&#x2F; | 除以<br>^或** | 乘幂<br>%&#x2F;% | 求整数商，比如7%&#x2F;%3&#x3D;2&#x3D;2<br>%% | 求余数，比如7%%3&#x3D;1</li>
</ul>
<h4 id="3-1-3-常见的数据运算"><a href="#3-1-3-常见的数据运算" class="headerlink" title="3.1.3 常见的数据运算"></a>3.1.3 常见的数据运算</h4><p><strong>e^x和logx(y)函数</strong></p>
<pre><code>1  
2  
</code></pre>
<p>| </p>
<pre><code>exp(1) # e^x函数  
log(100,10) # log(x,y)，以y为底x的函数  
  
</code></pre>
<p>—|—  </p>
<p><strong>保留数字位数</strong></p>
<pre><code>1  
2  
3  
4  
5  
</code></pre>
<p>| </p>
<pre><code>&gt; signif(12.3456789, 4) # 保留4位数，注意是总共保留4位数，不是保留小数点后面4位  
 [1] 12.35  
   
&gt; round(12.3456789, 3) # 保留3位小数  
 [1] 12.346  
  
</code></pre>
<p>—|—  </p>
<h4 id="3-1-4-R-中自带的常见函数"><a href="#3-1-4-R-中自带的常见函数" class="headerlink" title="3.1.4 R 中自带的常见函数"></a>3.1.4 R 中自带的常见函数</h4><p><img src="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=NWYzODFjNzc4OTUwOTZmMTczYmFiNzg3MjhhYjIzZThfYXhzYXFjRHBKZHpucFpFODNPRGpBaXdkTjVFWkRETmJfVG9rZW46Ym94Y25NR2tDd0trSVhjb1U0QUdCeXhhd0JkXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA" alt="img"></p>
<p><em>资料来源：</em> <em><a target="_blank" rel="noopener" href="https://tshi.page/r-and-tidyverse-book/math.html">2.3 数学表达和运算 | R与tidyverse——数据分析入门</a></em></p>
<h3 id="3-2-列表"><a href="#3-2-列表" class="headerlink" title="3.2 列表"></a>3.2 列表</h3><h4 id="3-2-1-列表基本操作"><a href="#3-2-1-列表基本操作" class="headerlink" title="3.2.1 列表基本操作"></a>3.2.1 列表基本操作</h4><pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
16  
17  
18  
19  
</code></pre>
<p>| </p>
<pre><code>&gt; list(1, 2, 4, NA, 3L, &quot;de&quot;)  
  
[[1]]  
[1] 1  
  
[[2]]  
[1] 2  
  
[[3]]  
[1] 4  
  
[[4]]  
[1] NA  
  
[[5]]  
[1] 3  
  
[[6]]  
[1] &quot;de&quot;  
  
</code></pre>
<p>—|—  </p>
<h4 id="3-2-2-合并与拆开"><a href="#3-2-2-合并与拆开" class="headerlink" title="3.2.2 合并与拆开"></a>3.2.2 合并与拆开</h4><pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
16  
17  
18  
19  
20  
21  
22  
23  
24  
25  
26  
</code></pre>
<p>| </p>
<pre><code>&gt; c(list(1, 2), list(3, 4, list(5,6))) # 使用c来合并列表  
[[1]]  
[1] 1  
  
[[2]]  
[1] 2  
  
[[3]]  
[1] 3  
  
[[4]]  
[1] 4  
  
[[5]]  
[[5]][[1]]  
[1] 5  
  
[[5]][[2]]  
[1] 6  
&gt; unlist(list(1, list(2, list(3, 4)), list(5, 6), 7, 8, 9)) # 一直拆解到无列表  
[1] 1 2 3 4 5 6 7 8 9  
  
&gt; unlist(list(1, list(2, list(&quot;a&quot;, 4)), list(5, TRUE), 7L, 8, 9+0i))  
[1] &quot;1&quot;    &quot;2&quot;    &quot;a&quot;    &quot;4&quot;    &quot;5&quot;    &quot;TRUE&quot; &quot;7&quot;    &quot;8&quot;    &quot;9+0i&quot;  
  
# unlist(list(A, B)等同于c(A, B)  
  
</code></pre>
<p>—|—  </p>
<h3 id="3-3-矩阵-matrix-和数组-array"><a href="#3-3-矩阵-matrix-和数组-array" class="headerlink" title="3.3 矩阵(matrix)和数组(array)"></a>3.3 矩阵(matrix)和数组(array)</h3><p><strong>创建5行8列的数组：</strong></p>
<pre><code>1  
2  
3  
</code></pre>
<p>| </p>
<pre><code>A &lt;- 1:40  
dim(A) &lt;- c(5,8)   
A  
  
</code></pre>
<p>—|—  </p>
<p>输出结果：</p>
<pre><code>1  
2  
3  
4  
5  
6  
</code></pre>
<p>| </p>
<pre><code>  [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]  
[1,]    1    6   11   16   21   26   31   36  
[2,]    2    7   12   17   22   27   32   37  
[3,]    3    8   13   18   23   28   33   38  
[4,]    4    9   14   19   24   29   34   39  
[5,]    5   10   15   20   25   30   35   40  
  
</code></pre>
<p>—|—  </p>
<p>索引行列数据</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
</code></pre>
<p>| </p>
<pre><code>&gt; A[5,3] # 第5行第3列数据  
 [1] 15  
  
&gt; A[5, ] # 第5行全部数据  
 [1]  5 10 15 20 25 30 35 40  
  
&gt; A[, 7] # 第7列全部数据  
 [1] 31 32 33 34 35  
  
</code></pre>
<p>—|—  </p>
<p><strong>创建2行8列的3个数组：</strong></p>
<pre><code>1  
2  
3  
</code></pre>
<p>| </p>
<pre><code>A &lt;- 1:48  
dim(A) &lt;- c(2, 8, 3)   
A  
  
</code></pre>
<p>—|—  </p>
<p><strong>结果如下：</strong></p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
16  
17  
</code></pre>
<p>| </p>
<pre><code>, , 1  
  
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]  
[1,]    1    3    5    7    9   11   13   15  
[2,]    2    4    6    8   10   12   14   16  
  
, , 2  
  
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]  
[1,]   17   19   21   23   25   27   29   31  
[2,]   18   20   22   24   26   28   30   32  
  
, , 3  
  
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]  
[1,]   33   35   37   39   41   43   45   47  
[2,]   34   36   38   40   42   44   46   48  
  
</code></pre>
<p>—|—  </p>
<p><strong>接下来使用</strong> <strong><code>dimnames()</code></strong> <strong>为每个行、列和每个列表命名</strong></p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
</code></pre>
<p>| </p>
<pre><code>A &lt;- 1:48  
dim(A) &lt;- c(2, 8, 3)  
  
dimnames(A) &lt;- list(paste(&quot;行数.&quot;, 1:2), # 行命名  
                    c(&quot;列1&quot;, &quot;列2&quot;, &quot;列3&quot;, &quot;列4&quot;, &quot;列5&quot;, &quot;列6&quot;, &quot;列7&quot;, &quot;列8&quot;), # 列命名  
                    c(&quot;表1&quot;, &quot;表2&quot;, &quot;表3&quot;)) # 表头命名  
      
A  
  
</code></pre>
<p>—|—  </p>
<p>结果如下：</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
16  
17  
</code></pre>
<p>| </p>
<pre><code>, , 表1  
  
        列1 列2 列3 列4 列5 列6 列7 列8  
行数. 1   1   3   5   7   9  11  13  15  
行数. 2   2   4   6   8  10  12  14  16  
  
, , 表2  
  
        列1 列2 列3 列4 列5 列6 列7 列8  
行数. 1  17  19  21  23  25  27  29  31  
行数. 2  18  20  22  24  26  28  30  32  
  
, , 表3  
  
        列1 列2 列3 列4 列5 列6 列7 列8  
行数. 1  33  35  37  39  41  43  45  47  
行数. 2  34  36  38  40  42  44  46  48  
  
</code></pre>
<p>—|—  </p>
<h3 id="3-4-循环"><a href="#3-4-循环" class="headerlink" title="3.4 循环"></a>3.4 循环</h3><p>循环语句的基本用法：</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
</code></pre>
<p>| </p>
<pre><code>for(var in seq) &#123;  
  expr  
&#125;  
m &lt;- 1:100 # 产生一个[1,2,3,...,99,100] # 从1-100依次产生整数  
  
n &lt;- vector(&quot;numeric&quot;)  
for (i in m) &#123;  
  if (i %% 2 == 0) &#123;   # 如果i是偶数  
    n &lt;- append(n, i^2) # 那么n为i的平方  
  &#125; else if (i == 51) &#123; # 当i等于51，则结束  
    break  
  &#125;  
&#125;  
  
n  
  
</code></pre>
<p>—|—  </p>
<p><strong>输出结果：</strong></p>
<pre><code>1  
2  
</code></pre>
<p>| </p>
<pre><code> [1]    4   16   36   64  100  144  196  256  324  400  484  576  676  784  900  
[16] 1024 1156 1296 1444 1600 1764 1936 2116 2304 2500  
  
</code></pre>
<p>—|—  </p>
<p><strong>while循环：</strong></p>
<p>当条件满足cond，重复循环expr。</p>
<pre><code>1  
2  
3  
</code></pre>
<p>| </p>
<pre><code>while (cond) &#123;  
  expr  
&#125;  
  
</code></pre>
<p>—|—  </p>
<p>重复执行使用repeat，直到使用break打断</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
</code></pre>
<p>| </p>
<pre><code>repeat &#123;  
  expr  
&#125;  
i &lt; 1  
repeat &#123;  
  print(i)  
  i = i + 1  
  if (i == 100) &#123;  
    break  
    &#125;  
   &#125;  
  
</code></pre>
<p>—|—  </p>
<p>for 和 while 区别：</p>
<ul>
<li><p>while 适用于不知道要运行多少次</p>
</li>
<li><p>知道结束循环的条件</p>
</li>
</ul>
<h2 id="4-函数"><a href="#4-函数" class="headerlink" title="4. 函数"></a>4. 函数</h2><h3 id="4-1-函数基本操作"><a href="#4-1-函数基本操作" class="headerlink" title="4.1 函数基本操作"></a>4.1 函数基本操作</h3><pre><code>1  
2  
3  
4  
</code></pre>
<p>| </p>
<pre><code>FuncName &lt;- function (arglist) &#123;  
  expr  
  return(value)  
&#125;  
  
</code></pre>
<p>—|—  </p>
<p><strong>举例</strong></p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
</code></pre>
<p>| </p>
<pre><code>grade &lt;- function(i, k)&#123;  
  if(k &lt;= 100) &#123;  
    k = i^2  
    return(k)  
  &#125;  
  else &#123;  
    break  
  &#125;  
&#125;  
  
grade(i&lt;-1:100, 10)  
  
</code></pre>
<p>—|—  </p>
<p>输出结果：</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
</code></pre>
<p>| </p>
<pre><code>&gt; grade(i&lt;-1:100, 10)  
  [1]     1     4     9    16    25    36    49    64    81   100   121   144  
 [13]   169   196   225   256   289   324   361   400   441   484   529   576  
 [25]   625   676   729   784   841   900   961  1024  1089  1156  1225  1296  
 [37]  1369  1444  1521  1600  1681  1764  1849  1936  2025  2116  2209  2304  
 [49]  2401  2500  2601  2704  2809  2916  3025  3136  3249  3364  3481  3600  
 [61]  3721  3844  3969  4096  4225  4356  4489  4624  4761  4900  5041  5184  
 [73]  5329  5476  5625  5776  5929  6084  6241  6400  6561  6724  6889  7056  
 [85]  7225  7396  7569  7744  7921  8100  8281  8464  8649  8836  9025  9216  
 [97]  9409  9604  9801 10000  
  
</code></pre>
<p>—|—  </p>
<p>遇到层层函数嵌套的情况**<code>h</code><strong><code>(</code></strong><code>g</code><strong><code>(</code></strong><code>f</code>**<code>(x)))</code>，借助<code>% &gt; % </code>:</p>
<pre><code>1  
2  
3  
4  
</code></pre>
<p>| </p>
<pre><code>x %&gt;%   
  f() %&gt;%   
  g() %&gt;%   
  h()  
  
</code></pre>
<p>—|—  </p>
<h2 id="5-tibble"><a href="#5-tibble" class="headerlink" title="5. tibble"></a>5. tibble</h2><p>tibble用来替换data.frame的表格型数据结构，tibble是tidyverse的一部分，读写速度更快。</p>
<pre><code>1  
2  
</code></pre>
<p>| </p>
<pre><code>library(didyverse)  
mpg # 默认显示前10行  
  
</code></pre>
<p>—|—  </p>
<p><img src="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=NjQ3ZjMxMTA1NTNkY2Q5MTBjMzI5ZWJiNGU3NmNlOWJfaWRybXNFeWh1M2g0bDRETmNiRXlPQ1duTXJtWHhXSURfVG9rZW46Ym94Y25hbko1enFwRWI3WllJSzE1alhqa0lmXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA" alt="img"></p>
<p>(图片来源：<a target="_blank" rel="noopener" href="https://tshi.page/r-and-tidyverse-book/tibble-view.html%EF%BC%89">https://tshi.page/r-and-tidyverse-book/tibble-view.html）</a></p>
<p>基本操作：</p>
<pre><code>1  
2  
3  
</code></pre>
<p>| </p>
<pre><code>view(mpg) # 查看所有数据  
head(mpg, 8)  # 开头前8行  
tail(mpg) # 最后8行  
  
</code></pre>
<p>—|—  </p>
<h3 id="5-1-创建"><a href="#5-1-创建" class="headerlink" title="5.1 创建"></a>5.1 创建</h3><h4 id="5-1-1-创建"><a href="#5-1-1-创建" class="headerlink" title="5.1.1 创建"></a>5.1.1 创建</h4><p><strong>直接在向量中赋值：</strong></p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
</code></pre>
<p>| </p>
<pre><code>library(tibble)  
  
my_tibble_1 &lt;- tibble(  
  nums = c(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), # 列1  
  chars_1 = c(&quot;数1&quot;, &quot;数2&quot;, &quot;数3&quot;), # 列2  
  chaars_2 = c(&quot;数4&quot;, &quot;数5&quot;, &quot;数6&quot;) # 列3  
                )  
my_tibble_1  
  
</code></pre>
<p>—|—  </p>
<p>输出结果为：</p>
<pre><code>1  
2  
3  
4  
5  
6  
</code></pre>
<p>| </p>
<pre><code># A tibble: 3 × 3  
  nums  chars_1 chaars_2  
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;     
1 one   数1     数4  
2 two   数2     数5      
3 three 数3     数6    
  
</code></pre>
<p>—|—  </p>
<p><strong>也可以通过向量创建：</strong></p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
</code></pre>
<p>| </p>
<pre><code>x &lt;- c(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)  
y &lt;- c(&quot;数1&quot;, &quot;数2&quot;, &quot;数3&quot;)  
z &lt;- c(&quot;数4&quot;, &quot;数5&quot;, &quot;数6&quot;)  
  
my_tibble_1 &lt;- tibble(nums = x, chars_1 = y, chars_2 = z)  
  
my_tibble_1  
  
</code></pre>
<p>—|—  </p>
<p>输出结果如下，与第一种方法一样：</p>
<pre><code>1  
2  
3  
4  
5  
6  
</code></pre>
<p>| </p>
<pre><code># A tibble: 3 × 3  
  nums  chars_1 chars_2  
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;    
1 one   数1     数4      
2 two   数2     数5      
3 three 数3     数6     
  
</code></pre>
<p>—|—  </p>
<h4 id="5-1-2-新增"><a href="#5-1-2-新增" class="headerlink" title="5.1.2 新增"></a>5.1.2 新增</h4><pre><code>1  
2  
3  
4  
</code></pre>
<p>| </p>
<pre><code>chars_2 &lt;- mutate(my_tibble_1,   
    chars_3 = c(&quot;数7&quot;, &quot;数8&quot;, &quot;数9&quot;)  
      
 my_tibble_1  
  
</code></pre>
<p>—|—  </p>
<h3 id="5-2-抓取行列"><a href="#5-2-抓取行列" class="headerlink" title="5.2 抓取行列"></a>5.2 抓取行列</h3><h4 id="5-2-1-抓取列"><a href="#5-2-1-抓取列" class="headerlink" title="5.2.1 抓取列"></a><strong>5.2.1 抓取列</strong></h4><p>从整个列表中抓取需要所需的列，可以使用下面三种方法：</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
</code></pre>
<p>| </p>
<pre><code># 方法1:通过变量名称抓取  
my_tibble_1[[&quot;chars_1&quot;]]  
  
# 方法2:使用$  
my_tibble_1$chars_1   
  
# 方法3:使用索引  
my_tibble_1[[2]]  
  
</code></pre>
<p>—|—  </p>
<p>如果要抓取多列，则可以使用<code>select</code>:</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
</code></pre>
<p>| </p>
<pre><code>library(dplyr)  
  
x &lt;- c(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)  
y &lt;- c(&quot;数1&quot;, &quot;数2&quot;, &quot;数3&quot;)  
z &lt;- c(&quot;数4&quot;, &quot;数5&quot;, &quot;数6&quot;)  
  
my_tibble_1 &lt;- tibble(nums = x, chars_1 = y, chars_2 = z)  
  
shuju &lt;- select(my_tibble_1, 1, 3) # 提取第一列，第三列，也可以使用select(my_tibble_1, -2)  
  
shuju  
  
</code></pre>
<p>—|—  </p>
<p>运行结果如下：</p>
<pre><code>1  
2  
3  
4  
5  
6  
</code></pre>
<p>| </p>
<pre><code># A tibble: 3 × 2  
  nums  chars_2  
  &lt;chr&gt; &lt;chr&gt;    
1 one   数4      
2 two   数5      
3 three 数6    
  
</code></pre>
<p>—|—  </p>
<h4 id="5-2-2-抓取行"><a href="#5-2-2-抓取行" class="headerlink" title="5.2.2 抓取行"></a>5.2.2 抓取行</h4><p>抓取行的方法和抓取列的方法一样，把<code>select</code>函数换成<code>slice()</code>函数.</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
</code></pre>
<p>| </p>
<pre><code>library(dplyr)  
  
x &lt;- c(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)  
y &lt;- c(&quot;数1&quot;, &quot;数2&quot;, &quot;数3&quot;)  
z &lt;- c(&quot;数4&quot;, &quot;数5&quot;, &quot;数6&quot;)  
  
my_tibble_1 &lt;- tibble(nums = x, chars_1 = y, chars_2 = z)  
  
shuju &lt;- slice(my_tibble_1, 1, 3) # 提取第一行，第三行，也可以使用slice(my_tibble_1, -2)  
  
shuju  
  
</code></pre>
<p>—|—  </p>
<p>结果如下：</p>
<pre><code>1  
2  
3  
4  
5  
</code></pre>
<p>| </p>
<pre><code># A tibble: 2 × 3  
  nums  chars_1 chars_2  
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;    
1 one   数1     数4      
2 three 数3     数6      
  
</code></pre>
<p>—|—  </p>
<p>抓取满足某些特定条件的行，使用<code>filter()</code>:</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
</code></pre>
<p>| </p>
<pre><code>library(dplyr)  
  
x &lt;- 1:6  
y &lt;- 4:9  
z &lt;- 5:10  
  
my_tibble_1 &lt;- tibble(nums = x, chars_1 = y, chars_2 = z)  
  
shuju &lt;- filter(my_tibble_1, chars_2&gt;=3 &amp; chars_2 &lt;= 6) # 提取chars_2列 满足数字大于等于3小于等于6的元素  
  
shuju  
  
</code></pre>
<p>—|—  </p>
<p>结果如下：</p>
<pre><code>1  
2  
3  
4  
5  
</code></pre>
<p>| </p>
<pre><code># A tibble: 2 × 3  
   nums chars_1 chars_2  
  &lt;int&gt;   &lt;int&gt;   &lt;int&gt;  
1     1       4       5  
2     2       5       6  
  
</code></pre>
<p>—|—  </p>
<h4 id="5-2-3-排序"><a href="#5-2-3-排序" class="headerlink" title="5.2.3 排序"></a>5.2.3 排序</h4><p>使用<code>arrange</code></p>
<p>排序：</p>
<pre><code>1  
2  
</code></pre>
<p>| </p>
<pre><code>arrange(my_tibble_1, chars_2) # 从小到大排列  
arrange(my_tibble_1, -chars_2) # 从大到小排列  
  
</code></pre>
<p>—|—  </p>
<p>重命名变量</p>
<pre><code>1  
</code></pre>
<p>| </p>
<pre><code>my_tibble &lt;- dplyr::rename(my_tibble_1, 列2 = chars_2) # 把chars_2命名为 列2  
  
</code></pre>
<p>—|—  </p>
<h4 id="5-2-4-汇总统计"><a href="#5-2-4-汇总统计" class="headerlink" title="5.2.4 汇总统计"></a>5.2.4 汇总统计</h4><p>使用<code>summarize</code></p>
<pre><code>1  
</code></pre>
<p>| </p>
<pre><code>summary_temp &lt;- summarize(my_tibble_1, mean(chars_1), sd(chars_1))  
  
</code></pre>
<p>—|—  </p>
<ul>
<li><p><code>mean()</code>: 平均值</p>
</li>
<li><p><code>sd()</code>: 标准差，它是价差的衡量标准</p>
</li>
<li><p><code>min()</code>和<code>max()</code>：分别为最小值和最大值</p>
</li>
<li><p><code>IQR()</code>: 四分位距</p>
</li>
<li><p><code>sum()</code>: 多个数字相加的总数</p>
</li>
<li><p><code>n()</code>: 每组中的行数</p>
</li>
</ul>
<h4 id="5-2-5-分组"><a href="#5-2-5-分组" class="headerlink" title="5.2.5 分组"></a>5.2.5 分组</h4><p>使用<code>groub_by</code></p>
<pre><code>1  
2  
3  
4  
5  
</code></pre>
<p>| </p>
<pre><code>summary_monthly_temp &lt;- weather %&gt;%   
  group_by(month) %&gt;%   
  summarize(mean = mean(temp, na.rm = TRUE),   
            std_dev = sd(temp, na.rm = TRUE))  
summary_monthly_temp  
  
</code></pre>
<p>—|—  </p>
<h2 id="6-R-包"><a href="#6-R-包" class="headerlink" title="6. R 包"></a>6. R 包</h2><h3 id="6-1-包的安装和卸载"><a href="#6-1-包的安装和卸载" class="headerlink" title="6.1 包的安装和卸载"></a>6.1 包的安装和卸载</h3><p>R 包是什么？我们可以把RStudio理解为一部手机，R 包则是一个个的APP，把能实现特定功能的程序“打包”在一起，当你调用包时，就可以实现想要的功能。</p>
<p>包的安装有两种方法。</p>
<p>第一种：找到顶部菜单栏Tools—&gt;Install Packages—&gt;输入包的名称，完成安装</p>
<p>第二种：在代码运行区输入</p>
<pre><code>1  
</code></pre>
<p>| </p>
<pre><code>install.packages(&#39;包的名称&#39;)  
  
</code></pre>
<p>—|—  </p>
<p>安装成功后，显示如下：</p>
<p><img src="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=MmViNWExMTBjMzU5MGNiZjI5MDhjYTE3ZWZlYTM1ZmZfWFc1aHFjcml2V2l1amN1SzQ2V1N2cHhrUGVVQTNLY0hfVG9rZW46Ym94Y25rSlp4RkVNNGtKQ2xCRDVVYk5lMkNlXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA" alt="img"></p>
<p><strong>包的更新：</strong></p>
<p>更新：<code>update.packages()</code>；</p>
<p>包的卸载：<code>remove.packages()</code></p>
<h3 id="6-2-包的使用"><a href="#6-2-包的使用" class="headerlink" title="6.2 包的使用"></a>6.2 包的使用</h3><p>在使用包时，需要使用如下代码加载包:</p>
<pre><code>1  
</code></pre>
<p>| </p>
<pre><code>library(&#39;包的名称&#39;)  
  
</code></pre>
<p>—|—  </p>
<p>如果有多个包，每一个包的加载都输入上面的加载语法麻烦的话，可以使用下面语法，加载多个包，读取成功，会返回TRUE。</p>
<pre><code>1  
</code></pre>
<p>| </p>
<pre><code>library(c(&#39;包1&#39;, &#39;包2&#39;, &#39;包3&#39;), require, c = T)  
  
</code></pre>
<p>—|—  </p>
<p>当载入<code>dplyr</code>时，我们发现：</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
</code></pre>
<p>| </p>
<pre><code>载入程辑包：‘dplyr’  
  
The following objects are masked from ‘package:stats’:  
  
    filter, lag  
  
The following objects are masked from ‘package:base’:  
  
    intersect, setdiff, setequal, union  
  
</code></pre>
<p>—|—  </p>
<p>为什么会这样？因为R自带了<code>stats、base</code>的包，现在使用的<code>dplyr</code>有同名的 filter(), lag()，intersect()，setdiff()，setequal()， union()，把自带的覆盖了。此时，程序会以最后（近）的包为对象读取。当然，你也可以使用<code>packageName::object</code>调取，先把包名称写出来。不过这种方法，应该不常用。</p>
<p><strong>在R包中，最常用的包有下面四个：</strong></p>
<pre><code>1  
2  
3  
4  
</code></pre>
<p>| </p>
<pre><code>library(ggplot2)  
library(dplyr)  
library(readr)  
library(tidyr)  
  
</code></pre>
<p>—|—  </p>
<p><code>ggplot2</code>用于数据可视化，<code>dplyr</code>用于数据整理，<code>readr</code>用于将电子表格数据导入 R，<code>tidyr</code>用于转置数据。</p>
<p>而这四个R包，可以通过<code>tidyvers</code>包一并加载出来。</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
</code></pre>
<p>| </p>
<pre><code>&gt; library(tidyverse)  
── Attaching packages ────────────────────────────────────── tidyverse 1.3.1 ──  
✔ tibble  3.1.7     ✔ dplyr   1.0.9  
✔ tidyr   1.2.0     ✔ stringr 1.4.0  
✔ purrr   0.3.4     ✔ forcats 0.5.1  
── Conflicts ───────────────────────────────────────── tidyverse_conflicts() ──  
✖ dplyr::filter() masks stats::filter()  
✖ dplyr::lag()    masks stats::lag()  
  
</code></pre>
<p>—|—  </p>
<h2 id="7-数据导入和整理"><a href="#7-数据导入和整理" class="headerlink" title="7. 数据导入和整理"></a>7. 数据导入和整理</h2><h3 id="7-1-数据导入"><a href="#7-1-数据导入" class="headerlink" title="7.1 数据导入"></a>7.1 数据导入</h3><pre><code>1  
2  
3  
</code></pre>
<p>| </p>
<pre><code>library(readr)  
dem_score &lt;- read_csv(&quot;https://moderndive.com/data/dem_score.csv&quot;)  
dem_score  
  
</code></pre>
<p>—|—  </p>
<p>结果如下：</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
</code></pre>
<p>| </p>
<pre><code># A tibble: 96 × 10  
   country    `1952` `1957` `1962` `1967` `1972` `1977` `1982` `1987` `1992`  
   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  
 1 Albania        -9     -9     -9     -9     -9     -9     -9     -9      5  
 2 Argentina      -9     -1     -1     -9     -9     -9     -8      8      7  
 3 Armenia        -9     -7     -7     -7     -7     -7     -7     -7      7  
 4 Australia      10     10     10     10     10     10     10     10     10  
 5 Austria        10     10     10     10     10     10     10     10     10  
 6 Azerbaijan     -9     -7     -7     -7     -7     -7     -7     -7      1  
 7 Belarus        -9     -7     -7     -7     -7     -7     -7     -7      7  
 8 Belgium        10     10     10     10     10     10     10     10     10  
 9 Bhutan        -10    -10    -10    -10    -10    -10    -10    -10    -10  
10 Bolivia        -4     -3     -3     -4     -7     -7      8      9      9  
# … with 86 more rows  
  
</code></pre>
<p>—|—  </p>
<p>可以看到，变量名两侧加上了引号，那是因为默认情况下，R 中的变量名不允许以数字开头，也不允许包含空格。</p>
<p>导入excel文件方法类似，可以使用路径<code>File--&gt; Import Dateset --&gt; From Excel</code>操作界面如下，观察右下角的代码，也可以使用代码导入。</p>
<p><img src="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=NzAzYzljNjVkY2IyODBmZTdlNTI0N2Q1NTk2OTRjMTdfUVJFSU40dkM0RDNCTllaQ25QcHVTZEhIQ0NrWVZabWJfVG9rZW46Ym94Y25VcFlpOEhDaWN5ZmZsUGlvRllrN2RjXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA" alt="img"></p>
<h3 id="7-2-数据清理"><a href="#7-2-数据清理" class="headerlink" title="7.2 数据清理"></a>7.2 数据清理</h3><p>每一个变量为一列，每一个观察为一行，每种类型的数据形成一个单独的表格。</p>
<p>观察 <em><strong>7.1中的数据，</strong></em> <em>country</em> 是变量，应该变成列，时间应该变成行，可以使用下面的代码实现：</p>
<pre><code>1  
2  
3  
4  
5  
6  
</code></pre>
<p>| </p>
<pre><code>guat_dem_tidy &lt;- guat_dem %&gt;%   
  pivot_longer(names_to = &quot;year&quot;,  # names_to 为把原来数据框中的行变为列  
               values_to = &quot;democracy_score&quot;, # values_to 字符串，创建新的列名称  
               cols = -country, # 为不想整理的  
               names_transform = list(year = as.integer))  # 设置变量的数值类型  
guat_dem_tidy  
  
</code></pre>
<p>—|—  </p>
<p>实际运用中，拿到的数据往往存在缺失值、数据出错等情况，我们称之为脏数据，包括：</p>
<ul>
<li><h2 id="缺失值：R中有NA表示，可以使用is-na-判断是否存在缺失值。处理方法"><a href="#缺失值：R中有NA表示，可以使用is-na-判断是否存在缺失值。处理方法" class="headerlink" title="缺失值：R中有NA表示，可以使用is.na()判断是否存在缺失值。处理方法"></a>缺失值：R中有NA表示，可以使用is.na()判断是否存在缺失值。处理方法</h2></li>
</ul>
<p>- 删除法：na.omit()，移除所有含有缺失行等列<br>- 替换法：使用中位数和众数替换</p>
<ul>
<li><p>异常值</p>
</li>
<li><p>重复值</p>
</li>
</ul>
<h3 id="7-3-数据挖掘相关包"><a href="#7-3-数据挖掘相关包" class="headerlink" title="7.3 数据挖掘相关包"></a>7.3 数据挖掘相关包</h3><p><img src="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=NjdlMDQzYmJlMjJjNTYxMTNkNjYxYzFiY2Q2ZjA4NjRfQllQRjhSYW5CYlAwMlpGWjBYU0UwbGZTM00yTkFiZFZfVG9rZW46Ym94Y25ONU0wUzE0cWlIbXhsSzd3SktPSEloXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA" alt="img"></p>
<h2 id="8-回归分析"><a href="#8-回归分析" class="headerlink" title="8. 回归分析"></a>8. 回归分析</h2><h3 id="8-1-描述性数据分析"><a href="#8-1-描述性数据分析" class="headerlink" title="8.1 描述性数据分析"></a>8.1 描述性数据分析</h3><p>数据分析有三种类别：描述性数据分析、预测性数据分析、规范性数据分析。</p>
<ul>
<li><p>描述性数据分析：描述数据是什么。常见指标包括平均数、中位数、众数、四分位数等。</p>
</li>
<li><p>预测性数据分析：从数据中预测。</p>
</li>
<li><p>规范性数据分析：从数据中得到判断。</p>
<p>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15</p>
</li>
</ul>
<p>| </p>
<pre><code>library(tidyverse)  
  
library(readr)  
dem_score &lt;- read_csv(&quot;https://moderndive.com/data/dem_score.csv&quot;)  
  
guat_dem_tidy &lt;- dem_score %&gt;%   
  pivot_longer(names_to = &quot;year&quot;,  # names_to 为把原来数据框中的行变为列  
               values_to = &quot;democracy_score&quot;, # values_to 字符串，创建新的列名称  
               cols = -country, # 为不想整理的  
               names_transform = list(year = as.integer))  # 设置变量的数值类型  
  
guat_dem_tidy %&gt;% summarize(  
    year_mean = mean(year), democracy_score_mean = mean(democracy_score),  
    year_median = median(year)  
)  
  
</code></pre>
<p>—|—  </p>
<p>结果如下：</p>
<pre><code>1  
2  
3  
</code></pre>
<p>| </p>
<pre><code> year_mean democracy_score_mean year_median  
      &lt;dbl&gt;                &lt;dbl&gt;       &lt;dbl&gt;  
1      1972               -0.826        1972  
  
</code></pre>
<p>—|—  </p>
<p>次数可以使用<code>skim</code>()，一次性计算：</p>
<ul>
<li><p><code>missing</code>：缺失值的数量</p>
</li>
<li><p><code>complete</code>：非缺失值或完整值的数量</p>
</li>
<li><p><code>n</code>：值的总数</p>
</li>
<li><p><code>mean</code>: 平均值</p>
</li>
<li><p><code>sd</code>: 标准差</p>
</li>
<li><p><code>p0</code>：最小值</p>
</li>
<li><p><code>p25</code>：1&#x2F;4分位数</p>
</li>
<li><p><code>p50</code>：1&#x2F;2分位数</p>
</li>
<li><p><code>p75</code>：3&#x2F;4分位数</p>
</li>
<li><p><code>p100</code>：最大值</p>
</li>
</ul>
<p>计算相关系数：</p>
<pre><code>1  
2  
</code></pre>
<p>| </p>
<pre><code>evals_ch5 %&gt;%   
  get_correlation(formula = score ~ bty_avg)  
  
</code></pre>
<p>—|—  </p>
<h3 id="8-2-一元线性回归"><a href="#8-2-一元线性回归" class="headerlink" title="8.2 一元线性回归"></a>8.2 一元线性回归</h3><p>描述一个自变量和一个因变量之间的关系。</p>
<pre><code>1  
2  
3  
4  
5  
</code></pre>
<p>| </p>
<pre><code>x &lt;- c(1, 12, 89, 28, 13, 93, 92, 9, 34)  
y &lt;- c(34, 12, 13, 56, 89, 1, 9, 23, 20)  
  
relation &lt;- lm(y ~ x)  
relation  
  
</code></pre>
<p>—|—  </p>
<p>得出x y 的相关系数：</p>
<pre><code>1  
2  
3  
</code></pre>
<p>| </p>
<pre><code>Coefficients:  
(Intercept)            x    
    44.6890      -0.3914  
  
</code></pre>
<p>—|—  </p>
<h3 id="8-3-多元线性回归"><a href="#8-3-多元线性回归" class="headerlink" title="8.3 多元线性回归"></a>8.3 多元线性回归</h3><h3 id="8-4-R语言分类及预测算法函数"><a href="#8-4-R语言分类及预测算法函数" class="headerlink" title="8.4 R语言分类及预测算法函数"></a>8.4 R语言分类及预测算法函数</h3><p>使用R进行数据挖掘时，分类和预测占很大比重，涵盖多个算法模块。主要的算法模型包含神经</p>
<h2 id="9-抽样"><a href="#9-抽样" class="headerlink" title="9. 抽样"></a>9. 抽样</h2><p>例1:从一个碗中随机抽取50个小球，计算抽取到红色小球的概率。</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
</code></pre>
<p>| </p>
<pre><code>library(tidyverse)  
library(moderndive)  
  
tactile_prop_red  
  
ggplot(tactile_prop_red, aes(x = prop_red)) +  
  geom_histogram(binwidth = 0.05, boundary = 0.4, color = &quot;white&quot;) +  
  labs(x = &quot;Proportion of 50 balls that were red&quot;,   
       title = &quot;Distribution of 33 proportions red&quot;)   
  
</code></pre>
<p>—|—  </p>
<p><img src="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=YzhkZTljNmYwZjc1NWM1ZmUxYjgyMDM5NGUyMjhiZTFfR0IyVWswQ2Fubm9lZEx2VzdsbDM1RDlsaEs0RjRTUEdfVG9rZW46Ym94Y24zQ3dFVVNubERzMTBxUU1LYkpUSmJoXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA" alt="img"></p>
<p>例2:从1000个球中随机抽取25个，计算是红色球的概率，并且绘制成条形图。</p>
<pre><code>1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
16  
17  
18  
19  
</code></pre>
<p>| </p>
<pre><code>library(tidyverse)  
library(moderndive)  
  
bowl   
  
# 1.a) Virtually use shovel 1000 times  
virtual_samples_25 &lt;- bowl %&gt;%   
  rep_sample_n(size = 25, reps = 1000)  
  
# 1.b) Compute resulting 1000 replicates of proportion red  
virtual_prop_red_25 &lt;- virtual_samples_25 %&gt;%   
  group_by(replicate) %&gt;%   
  summarize(red = sum(color == &quot;red&quot;)) %&gt;%  
  mutate(prop_red = red / 25)  
  
# 1.c) Plot distribution via a histogram  
ggplot(virtual_prop_red_25, aes(x = prop_red)) +  
  geom_histogram(binwidth = 0.05, boundary = 0.4, color = &quot;white&quot;) +  
  labs(x = &quot;Proportion of 25 balls that were red&quot;, title = &quot;25&quot;)   
  
</code></pre>
<p>—|—  </p>
<h2 id="10-假设检验、置信区间"><a href="#10-假设检验、置信区间" class="headerlink" title="10. 假设检验、置信区间"></a>10. 假设检验、置信区间</h2><p>@todo</p>
<h2 id="11-数据可视化"><a href="#11-数据可视化" class="headerlink" title="11. 数据可视化"></a>11. 数据可视化</h2><h3 id="11-1-ggplot介绍"><a href="#11-1-ggplot介绍" class="headerlink" title="11.1 ggplot介绍"></a><code>11.1 ggplot</code>介绍</h3><p><code>ggplot</code>是用于数据可视化的包。</p>
<p>基本操作语法为：</p>
<pre><code>1  
</code></pre>
<p>| </p>
<pre><code>ggplot(data = NULL, mapping = aes(), ..., environment = parent.frame())  
  
</code></pre>
<p>—|—  </p>
<p>有3个部分组成：</p>
<ul>
<li><p><code>data</code>：数据集。</p>
</li>
<li><p><code>geom</code>: 几何对象，可以在图中观察到的对象类型。例如：点、线和条。</p>
</li>
<li><p><code>aes</code>：描述几何对象，如x&#x2F;y 位置、颜色、形状和大小。</p>
</li>
</ul>
<p><strong>基本图形</strong></p>
<ul>
<li><p>散点图<code>geom_point()</code></p>
</li>
<li><p>折线图<code>geom_line()</code></p>
</li>
<li><p>箱线图通过<code>geom_boxplot()</code></p>
</li>
<li><p>直方图通过<code>gom_histogram()</code></p>
</li>
<li><p>通过条形图<code>geom_bar()</code>或<code>geom_col()</code></p>
</li>
</ul>
<p>示例：</p>
<pre><code>1  
2  
3  
4  
5  
</code></pre>
<p>| </p>
<pre><code>library(nycflights13)  
library(ggplot2)  
  
ggplot(data = alaska_flights, mapping = aes(x = dep_delay, y = arr_delay)) +   
  geom_point() # 散点图  
  
</code></pre>
<p>—|—  </p>
<p><img src="https://jxinuhe8ml.feishu.cn/space/api/box/stream/download/asynccode/?code=YTcyNzQ1YWFhNzEzYjJlODhjOWRiYTg5YWYwOTVkMzRfelRTbElDRlM2a2xMTWtWVXZ2VElqb3RTeHBhWDUzUXdfVG9rZW46Ym94Y25QSWJKS1ZDWlBJOEFOeHVIaG15MkJkXzE2NTk2OTgyNDA6MTY1OTcwMTg0MF9WNA" alt="img"></p>
<h2 id="12-实战案例：西雅图房价预测"><a href="#12-实战案例：西雅图房价预测" class="headerlink" title="12. 实战案例：西雅图房价预测"></a>12. 实战案例：西雅图房价预测</h2><p>@todo</p>
<h2 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h2><p>在学习过程中，除了参考官方文档，主要参考了<a target="_blank" rel="noopener" href="https://tshi.page/r-and-tidyverse-book/index.html#intro">R与tidyverse——数据分析入门</a> 内容，非常感谢！</p>
<h2 id="ChangeLog"><a href="#ChangeLog" class="headerlink" title="ChangeLog"></a>ChangeLog</h2><p>20220805 优化案例</p>
<p>20220618 完成初稿</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E8%81%8C%E5%9C%BA%E6%8A%80%E8%83%BD/" rel="tag"># 职场技能</a>
              <a href="/tags/%E5%95%86%E4%B8%9A%E5%88%86%E6%9E%90/" rel="tag"># 商业分析</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/06/04/2022-06-04-go-thinking/" rel="prev" title="不求胜，但求不败">
                  <i class="fa fa-angle-left"></i> 不求胜，但求不败
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/08/06/2022-08-06-Wenshi/" rel="next" title="温氏股份的蝶变">
                  温氏股份的蝶变 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">妙生</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
